<?xml version="1.0" encoding="UTF-8"?>
<window id="1157"><!-- Ace 2 -->
	<defaultcontrol always="true">9000</defaultcontrol>
	<onload condition="Skin.HasSetting(languagedone)">SetFocus(9000)</onload>
	<onload condition="!Skin.HasSetting(languagedone)">SetFocus(9011)</onload>
	<onload>Skin.Reset(show_color_picker)</onload>
	<onload>Skin.Reset(submode)</onload>
	<controls>
		<include content="common_background">
			<param name="mask" value="white80" />	
			<param name="condition" value="true" />
		</include>
		<control type="group">
			<include>animation_window</include>
			<control type="group">
				<include>menucustom</include>
				<animation effect="fade" start="100" end="0" time="0" condition="Skin.HasSetting(submode)">Conditional</animation>
			</control>
			<control type="list" id="9000">
				<onleft condition="!$EXP[custom_submenu_control]">Skin.SetString(submenu,$INFO[Container(9000).ListItem.Property(submenu)])</onleft>
				<onleft condition="!$EXP[custom_submenu_control]">Skin.SetBool(submode)</onleft>
				<onleft condition="!$EXP[custom_submenu_control]">Skin.SetBool(customsubmenu_focus)</onleft>
				<onleft condition="!$EXP[custom_submenu_control]">ActivateWindow(1101)</onleft>				
				<onleft condition="$EXP[custom_submenu_control]">SetFocus(4403)</onleft>
				<onright>SetProperty(menu_item_color,$INFO[Container(9000).ListItem.Property(name)],home)</onright>	
				<onright>SetFocus(4400)</onright>
				<onup>9000</onup>
				<ondown>9000</ondown>
				<animation effect="slide" start="0,0" end="-600,0" time="300" tween="sine" easing="inout" condition="Skin.HasSetting(submode)">Conditional</animation>
				<animation effect="slide" start="0,0" end="-450,0" time="300" tween="sine" easing="inout" condition="Control.Hasfocus(82) | Control.Hasfocus(83) | Control.Hasfocus(4510) | Control.Hasfocus(4515) | ControlGroup(4520).Hasfocus | Control.HasFocus(4525) | Control.Hasfocus(4530) | Control.Hasfocus(4540) | Control.Hasfocus(4550) | Control.Hasfocus(4560) | Control.Hasfocus(4570) | Control.Hasfocus(4575) | Control.Hasfocus(4580) | Control.Hasfocus(4401) | Control.Hasfocus(4403) | Control.Hasfocus(4404) | Control.Hasfocus(4405) | Control.Hasfocus(4406) | Control.Hasfocus(4407) | Control.Hasfocus(4408) | Control.Hasfocus(4409) | Control.Hasfocus(4411) | Skin.HasSetting(show_color_picker)">Conditional</animation>
				<itemlayout width="450" height="60">
					<include content="list_furniture">
						<param name="width" value="370" />
						<param name="height" value="60" />
						<param name="align" value="left" />
						<param name="label" value="$INFO[ListItem.label]" />
						<param name="font" value="font_settings" />
					</include>
					<include content="list_color">
						<param name="width" value="30" />
						<param name="height" value="60" />
						<param name="color" value="active" />
						<param name="visible" value="![String.IsEmpty(ListItem.Property(master)) | !String.IsEmpty(ListItem.Property(visible))]" />
					</include>
					<include content="list_color">
						<param name="width" value="30" />
						<param name="height" value="60" />
						<param name="color" value="disable" />
						<param name="visible" value="[String.IsEmpty(ListItem.Property(master)) | !String.IsEmpty(ListItem.Property(visible))]" />
					</include>
					<include content="list_color">
						<param name="width" value="30" />
						<param name="height" value="60" />
						<param name="color" value="empty" />
						<param name="visible" value="String.IsEmpty(ListItem.Property(master))" />
					</include>
					<include content="list_color">
						<param name="width" value="30" />
						<param name="height" value="60" />
						<param name="color" value="virtual" />
						<param name="visible" value="String.IsEqual(ListItem.Property(master),virtual)" />
					</include>					
				</itemlayout>
				<focusedlayout width="450" height="60">
					<include content="list_furniturefocus">
						<param name="width" value="450" />
						<param name="height" value="60" />
						<param name="align" value="left" />
						<param name="label" value="$INFO[ListItem.label]" />
						<param name="font" value="font_settings" />
						<param name="visible" value="Control.HasFocus(9000)" />
					</include>
					<include content="list_colorfocus">
						<param name="width" value="30" />
						<param name="height" value="60" />
						<param name="color" value="active" />
						<param name="condition" value="!Control.Hasfocus(9000)" />
						<param name="visible" value="![String.IsEmpty(ListItem.Property(master)) | !String.IsEmpty(ListItem.Property(visible))]" />
					</include>
					<include content="list_colorfocus">
						<param name="width" value="30" />
						<param name="height" value="60" />
						<param name="color" value="disable" />
						<param name="condition" value="!Control.Hasfocus(9000)" />
						<param name="visible" value="[String.IsEmpty(ListItem.Property(master)) | !String.IsEmpty(ListItem.Property(visible))]" />
					</include>
					<include content="list_colorfocus">
						<param name="width" value="30" />
						<param name="height" value="60" />
						<param name="color" value="empty" />
						<param name="condition" value="!Control.Hasfocus(9000)" />
						<param name="visible" value="String.IsEmpty(ListItem.Property(master))" />
					</include>
					<include content="list_colorfocus">
						<param name="width" value="30" />
						<param name="height" value="60" />
						<param name="color" value="virtual" />
						<param name="condition" value="!Control.Hasfocus(9000)" />
						<param name="visible" value="String.IsEqual(ListItem.Property(master),virtual)" />
					</include>					
				</focusedlayout>
				<include content="mainmenu_content">	
				</include>
			</control>
			<control type="group">
				<include content="legend_furniture">
					<param name="dialogtop" value="8" />
					<param name="dialogheight" value="55" />
					<param name="arrowleft" value="30" />
					<param name="arrowtop" value="65" />
					<param name="visible" value="Control.HasFocus(9000) + ![Skin.HasSetting(submode) | Window.IsVisible(volumebar) | Window.IsVisible(notification)]" />
				</include>				
				<include content="legend_items">
					<param name="left" value="117" />
					<param name="top" value="22" />
					<param name="label" value="$LOCALIZE[31426]" />
					<param name="color" value="active" />
				</include>				
				<include content="legend_items">
					<param name="left" value="593" />
					<param name="top" value="22" />
					<param name="label" value="$LOCALIZE[31427]" />
					<param name="color" value="disable" />
				</include>				
				<include content="legend_items">
					<param name="left" value="1069" />
					<param name="top" value="22" />
					<param name="label" value="$LOCALIZE[31080]" />
					<param name="color" value="empty" />
				</include>				
				<include content="legend_items">
					<param name="left" value="1544" />
					<param name="top" value="22" />
					<param name="label" value="$LOCALIZE[31085]" />
					<param name="color" value="virtual" />
				</include>
			</control>
			<control type="group">
				<include content="legend_furniture">
					<param name="dialogtop" value="8" />
					<param name="dialogheight" value="55" />
					<param name="arrowleft" value="30" />
					<param name="arrowtop" value="65" />
					<param name="visible" value="Skin.HasSetting(submode) + Skin.HasSetting(customsubmenu_focus) + ![Window.IsVisible(volumebar) | Window.IsVisible(notification)]" />
				</include>				
				<include content="legend_items">
					<param name="left" value="117" />
					<param name="top" value="22" />
					<param name="label" value="$LOCALIZE[31426]" />
					<param name="color" value="active" />
				</include>				
				<include content="legend_items">
					<param name="left" value="593" />
					<param name="top" value="22" />
					<param name="label" value="$LOCALIZE[31427]" />
					<param name="color" value="disable" />
				</include>				
				<include content="legend_items">
					<param name="left" value="1069" />
					<param name="top" value="22" />
					<param name="label" value="$LOCALIZE[31080]" />
					<param name="color" value="empty" />
				</include>
			</control>
			<include content="language_setting">
				<param name="close" value="" />
				<param name="focus" value="9000" />
			</include>
		</control>	
	</controls>
</window>